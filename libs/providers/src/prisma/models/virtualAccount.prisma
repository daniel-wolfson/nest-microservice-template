// Virtual Account model
model VirtualAccount {
  id            String               @id @default(uuid())
  billingUserId String
  accountNumber String               @unique
  balance       Float                @default(0)
  currency      String               @default("USD")
  status        VirtualAccountStatus @default(ACTIVE)
  createdAt     DateTime             @default(now()) @db.Timestamptz(3)
  updatedAt     DateTime             @updatedAt @db.Timestamptz(3)

  // Relations
  billingUser BillingUser @relation(fields: [billingUserId], references: [id], onDelete: Cascade)

  @@index([billingUserId])
  @@index([accountNumber])
  @@index([status])
}

// Virtual Account Status enum
enum VirtualAccountStatus {
  ACTIVE
  SUSPENDED
  CLOSED
}
